# Настройка температуры ИИ в интерфейсе

**Status: COMPLETED**

## Цель

Добавить в чат‑интерфейс управление параметром температуры ИИ, чтобы пользователь мог выбирать более креативные или более детерминированные ответы, а выбранное значение использовалось при генерации ответов моделью.

## Что нужно изменить

- Фронтенд (`frontend/src/components/chat/ChatSettingsModal.vue`):
  - Добавить в модальное окно настроек чата новый контрол `Temperature` (слайдер или числовое поле) с диапазоном примерно `0.1–1.5` и шагом `0.1`.
  - Показать краткое описание эффекта температуры (низкая — более стабильные ответы, высокая — более креативные).
  - Расширить локальное состояние формы (`formData`) полем `temperature` и инициализировать его из данных чата.
- Типы и API фронтенда:
  - Добавить поле `temperature` в типы `Chat` и `ChatUpdate` в `frontend/src/types/chat.ts`.
  - Обновить клиент `chatApi.update`, чтобы при сохранении настроек чата отправлялось поле `temperature` (если указано).
- Бэкенд — модель и схемы:
  - Добавить в модель `Chat` (`backend/app/models/chat.py`) поле `temperature` (тип `Float`, nullable, с разумным дефолтом, например `0.7`).
  - Добавить поле `temperature` в схемы `ChatCreate`, `ChatUpdate` и `ChatResponse` в `backend/app/schemas/chat.py`.
  - Создать Alembic‑миграцию для добавления колонки `temperature` в таблицу `chats` с дефолтным значением.
- Бэкенд — использование температуры:
  - Обеспечить, чтобы при формировании запроса к Gemini (через очередь/worker) для каждого сообщения чата учитывалось значение `temperature` из чата (либо были описаны шаги для последующей интеграции в worker).

## Критерии приёмки

- [x] В окне `Chat Settings` появляется контрол для температуры ИИ с понятной подписью и подсказкой по диапазону значений.
- [x] По умолчанию для существующих чатов используется стандартное значение температуры (например `0.7`), и оно отображается в интерфейсе.
- [x] Изменение температуры и сохранение настроек чата обновляет значение в базе данных.
- [x] При повторном открытии настроек чата отображается ранее сохранённое значение температуры.
- [x] Значение температуры передаётся в backend при обновлении настроек чата и учитывается при генерации ответов моделью.
- [ ] Все существующие тесты проходят (требуется запуск в Docker).

